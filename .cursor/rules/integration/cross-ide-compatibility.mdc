---
description: Cross-IDE Compatibility Rules - Comprehensive cross-IDE compatibility v√† alias layer management. K√≠ch ho·∫°t khi working v·ªõi cross-IDE workflows, compatibility management, ho·∫∑c IDE integration tasks.
alwaysApply: false
---

# Cross-IDE Compatibility Rules

## üéØ M·ª•c Ti√™u

ƒê·∫£m b·∫£o quy tr√¨nh l√†m vi·ªác ho·∫°t ƒë·ªông nh·∫•t qu√°n tr√™n t·∫•t c·∫£ c√°c IDE th√¥ng qua h·ªá th·ªëng alias layer.

## üèóÔ∏è Ki·∫øn Tr√∫c H·ªá Th·ªëng

### Hierarchy C·∫•u H√¨nh

```
.cursor/rules/     ‚Üê PRIMARY SOURCE (Cursor IDE)
‚îú‚îÄ‚îÄ T·∫•t c·∫£ rule definitions
‚îú‚îÄ‚îÄ Workflow implementations
‚îî‚îÄ‚îÄ Enforcement logic

.trae/rules/       ‚Üê ALIAS LAYER (Trae AI)
‚îú‚îÄ‚îÄ Alias links ƒë·∫øn .cursor/rules/
‚îú‚îÄ‚îÄ Trae-specific configurations
‚îî‚îÄ‚îÄ Synchronization documentation

.kiro/steering/    ‚Üê ALIAS LAYER (Kiro AI)
‚îú‚îÄ‚îÄ File references ƒë·∫øn .cursor/rules/
‚îú‚îÄ‚îÄ Kiro-specific configurations
‚îî‚îÄ‚îÄ Spec-driven workflow aliases
```

## üìã Quy Tr√¨nh ƒê·ªìng B·ªô

### B∆∞·ªõc 1: Context7 Auto-Check (B·∫ÆT BU·ªòC)

- **K√≠ch ho·∫°t**: T·ª± ƒë·ªông cho m·ªçi task
- **Th·ª±c hi·ªán**: Thu th·∫≠p best practices t·ª´ Context7
- **√Åp d·ª•ng**: Cho t·∫•t c·∫£ IDE configurations

### B∆∞·ªõc 2: IDE Detection & Configuration

```bash
# Detect current IDE environment
if [ -d ".cursor" ]; then
    IDE_TYPE="cursor"
    CONFIG_PATH=".cursor/rules"
elif [ -d ".trae" ]; then
    IDE_TYPE="trae"
    CONFIG_PATH=".trae/rules"
elif [ -d ".kiro" ]; then
    IDE_TYPE="kiro"
    CONFIG_PATH=".kiro/steering"
fi
```

### B∆∞·ªõc 3: Rule Synchronization

#### Cho Trae AI (.trae/rules/)

- **Format**: Markdown links `[Rule Name](../../.cursor/rules/rule-file.mdc)`
- **C·∫≠p nh·∫≠t**: T·ª± ƒë·ªông sync khi .cursor/rules/ thay ƒë·ªïi
- **Validation**: Ki·ªÉm tra relative paths

#### Cho Kiro AI (.kiro/steering/)

- **Format**: File references `#[[file:../../.cursor/rules/rule-file.mdc]]`
- **C·∫≠p nh·∫≠t**: T·ª± ƒë·ªông sync khi .cursor/rules/ thay ƒë·ªïi
- **Validation**: Ki·ªÉm tra file references

## üîß Implementation Scripts

### Auto-Sync Script

```bash
#!/bin/bash
# sync-ide-rules.sh

SOURCE_DIR=".cursor/rules"
TRAE_DIR=".trae/rules"
KIRO_DIR=".kiro/steering"

# Function to update Trae aliases
update_trae_aliases() {
    echo "Updating Trae AI aliases..."
    for file in "$SOURCE_DIR"/*.mdc; do
        filename=$(basename "$file")
        echo "[${filename%.*}](../../.cursor/rules/$filename)" >> "$TRAE_DIR/project_rules.md"
    done
}

# Function to update Kiro aliases
update_kiro_aliases() {
    echo "Updating Kiro AI aliases..."
    for file in "$SOURCE_DIR"/*.mdc; do
        filename=$(basename "$file")
        echo "#[[file:../../.cursor/rules/$filename]]" >> "$KIRO_DIR/project-rules.md"
    done
}

# Execute updates
update_trae_aliases
update_kiro_aliases

echo "Cross-IDE synchronization completed!"
```

### Validation Script

```bash
#!/bin/bash
# validate-ide-links.sh

# Validate Trae links
echo "Validating Trae AI links..."
find .trae/rules -name "*.md" -exec grep -l "\[.*\](../../\.cursor/rules/" {} \;

# Validate Kiro references
echo "Validating Kiro AI references..."
find .kiro/steering -name "*.md" -exec grep -l "#\[\[file:.*\.cursor/rules/" {} \;

# Check for broken links
echo "Checking for broken references..."
for link in $(grep -r "../../.cursor/rules/" .trae/rules/ | cut -d':' -f2 | grep -o '../../.cursor/rules/[^)]*'); do
    if [ ! -f "$link" ]; then
        echo "BROKEN LINK: $link"
    fi
done
```

## üö® Enforcement Rules

### Mandatory Compliance

1. **B·∫ÆT BU·ªòC** - M·ªçi rule modification ph·∫£i th·ª±c hi·ªán trong `.cursor/rules/` tr∆∞·ªõc
2. **NGHI√äM C·∫§M** - T·∫°o independent rules trong alias layers
3. **B·∫ÆT BU·ªòC** - C·∫≠p nh·∫≠t alias links khi `.cursor/rules/` thay ƒë·ªïi
4. **B·∫ÆT BU·ªòC** - Ch·∫°y Context7 Auto-Check tr∆∞·ªõc m·ªçi task
5. **B·∫ÆT BU·ªòC** - Validate links sau m·ªói l·∫ßn sync

### Auto-Enforcement Triggers

```bash
# Git pre-commit hook
#!/bin/bash
# .git/hooks/pre-commit

# Run validation before commit
./scripts/validate-ide-links.sh

if [ $? -ne 0 ]; then
    echo "ERROR: IDE link validation failed!"
    echo "Please fix broken links before committing."
    exit 1
fi

# Run auto-sync if needed
./scripts/sync-ide-rules.sh
```

## üìä Monitoring & Maintenance

### Health Check Commands

```bash
# Check all IDE configurations
make check-ide-health

# Sync all IDE configurations
make sync-ide-configs

# Validate all links
make validate-ide-links

# Generate IDE compatibility report
make ide-compatibility-report
```

### Makefile Integration

```makefile
# Makefile
.PHONY: check-ide-health sync-ide-configs validate-ide-links

check-ide-health:
	@echo "Checking IDE configuration health..."
	@./scripts/validate-ide-links.sh
	@./scripts/check-ide-compatibility.sh

sync-ide-configs:
	@echo "Synchronizing IDE configurations..."
	@./scripts/sync-ide-rules.sh

validate-ide-links:
	@echo "Validating IDE links..."
	@./scripts/validate-ide-links.sh

ide-compatibility-report:
	@echo "Generating IDE compatibility report..."
	@./scripts/generate-ide-report.sh
```

## üéØ Best Practices

### Development Workflow

1. **Lu√¥n b·∫Øt ƒë·∫ßu v·ªõi Context7 Auto-Check**
2. **Modify rules trong .cursor/rules/ tr∆∞·ªõc**
3. **Ch·∫°y sync script sau m·ªói thay ƒë·ªïi**
4. **Validate links tr∆∞·ªõc khi commit**
5. **Test tr√™n multiple IDEs n·∫øu c√≥ th·ªÉ**

### Troubleshooting

```bash
# Common issues and solutions

# Issue: Broken links in Trae
find .trae/rules -name "*.md" -exec sed -i 's|../../.cursor/rules/|../../.cursor/rules/|g' {} \;

# Issue: Missing Kiro references
grep -r "#\[\[file:" .kiro/steering/ || echo "No file references found"

# Issue: Outdated aliases
./scripts/sync-ide-rules.sh --force-update
```

## üìà Success Metrics

- ‚úÖ 100% link validation success rate
- ‚úÖ Zero broken references across all IDEs
- ‚úÖ Automatic sync completion within 5 seconds
- ‚úÖ Context7 Auto-Check execution rate: 100%
- ‚úÖ Cross-IDE workflow consistency: 100%

---

**L∆∞u √Ω**: File n√†y l√† PRIMARY SOURCE trong .cursor/rules/. T·∫•t c·∫£ IDE kh√°c s·∫Ω reference ƒë·∫øn file n√†y th√¥ng qua alias layers.
