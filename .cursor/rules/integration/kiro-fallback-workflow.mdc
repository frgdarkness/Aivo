---
description: Kiro Fallback Workflow - Quy tr√¨nh t·∫°o v√† c·∫≠p nh·∫≠t requirements/design/tasks cho Kiro system. K√≠ch ho·∫°t khi working v·ªõi Kiro system integration, task management, ho·∫∑c dynamic workflow automation.
alwaysApply: false
---

# Kiro Dynamic Workflow - Quy Tr√¨nh T·∫°o v√† C·∫≠p Nh·∫≠t ƒê·ªông

## M·ª•c ƒê√≠ch

Quy tr√¨nh n√†y ƒë∆∞·ª£c k√≠ch ho·∫°t trong c√°c tr∆∞·ªùng h·ª£p sau:

1. **T·∫°o m·ªõi**: Khi h·ªá th·ªëng Kiro ch∆∞a c√≥ ƒë·∫ßy ƒë·ªß c√°c file c·∫ßn thi·∫øt (requirements, design, tasks)
2. **C·∫≠p nh·∫≠t**: Khi ng∆∞·ªùi d√πng y√™u c·∫ßu c·∫≠p nh·∫≠t ho·∫∑c b·ªï sung d·ªØ li·ªáu m·ªõi v√†o c√°c file hi·ªán c√≥
3. **B·ªï sung**: Khi ph√°t hi·ªán thi·∫øu th√¥ng tin quan tr·ªçng trong qu√° tr√¨nh ph√°t tri·ªÉn
4. **T√°i c·∫•u tr√∫c**: Khi c·∫ßn ƒëi·ªÅu ch·ªânh requirements/design/tasks theo y√™u c·∫ßu m·ªõi

## ƒêi·ªÅu Ki·ªán K√≠ch Ho·∫°t M·ªü R·ªông

### K√≠ch Ho·∫°t T·ª± ƒê·ªông

- **_B·∫ÆT BU·ªòC_** ki·ªÉm tra s·ª± t·ªìn t·∫°i c·ªßa `.kiro/specs/{project}/` directory
- **_B·∫ÆT BU·ªòC_** ki·ªÉm tra c√°c file: `requirements.md`, `design.md`, `tasks.md`
- **_B·∫ÆT BU·ªòC_** k√≠ch ho·∫°t khi thi·∫øu b·∫•t k·ª≥ file n√†o trong 3 file tr√™n
- **_B·∫ÆT BU·ªòC_** k√≠ch ho·∫°t khi ph√°t hi·ªán file r·ªóng ho·∫∑c kh√¥ng ƒë·∫ßy ƒë·ªß th√¥ng tin

### K√≠ch Ho·∫°t Theo Y√™u C·∫ßu

- **_B·∫ÆT BU·ªòC_** k√≠ch ho·∫°t khi ng∆∞·ªùi d√πng y√™u c·∫ßu t·∫°o/c·∫≠p nh·∫≠t requirements
- **_B·∫ÆT BU·ªòC_** k√≠ch ho·∫°t khi ng∆∞·ªùi d√πng y√™u c·∫ßu t·∫°o/c·∫≠p nh·∫≠t design
- **_B·∫ÆT BU·ªòC_** k√≠ch ho·∫°t khi ng∆∞·ªùi d√πng y√™u c·∫ßu t·∫°o/c·∫≠p nh·∫≠t tasks
- **_B·∫ÆT BU·ªòC_** k√≠ch ho·∫°t khi c·∫ßn b·ªï sung th√¥ng tin m·ªõi v√†o d·ª± √°n
- **_B·∫ÆT BU·ªòC_** k√≠ch ho·∫°t khi c·∫ßn ƒëi·ªÅu ch·ªânh scope ho·∫∑c requirements

### K√≠ch Ho·∫°t Th√¥ng Minh

- **_B·∫ÆT BU·ªòC_** ph√¢n t√≠ch context hi·ªán t·∫°i ƒë·ªÉ x√°c ƒë·ªãnh lo·∫°i c·∫≠p nh·∫≠t c·∫ßn thi·∫øt
- **_B·∫ÆT BU·ªòC_** detect changes trong codebase v√† ƒë·ªÅ xu·∫•t c·∫≠p nh·∫≠t t∆∞∆°ng ·ª©ng
- **_B·∫ÆT BU·ªòC_** monitor user feedback v√† ƒë·ªÅ xu·∫•t improvements
- **_KHUY·∫æN NGH·ªä_** ∆∞u ti√™n vi·ªác t·∫°o b·∫±ng Kiro tool tr∆∞·ªõc khi s·ª≠ d·ª•ng workflow n√†y

## Quy Tr√¨nh ƒê·ªông: Ph√¢n T√≠ch ‚Üí Brainstorm/Update ‚Üí Requirements ‚Üí Design ‚Üí Tasks

### Phase 0: Context Analysis (Ph√¢n T√≠ch Ng·ªØ C·∫£nh)

- **_B·∫ÆT BU·ªòC_** ph√¢n t√≠ch tr·∫°ng th√°i hi·ªán t·∫°i c·ªßa d·ª± √°n
- **_B·∫ÆT BU·ªòC_** x√°c ƒë·ªãnh lo·∫°i operation: CREATE_NEW, UPDATE_EXISTING, SUPPLEMENT_DATA, RESTRUCTURE
- **_B·∫ÆT BU·ªòC_** ƒë√°nh gi√° ch·∫•t l∆∞·ª£ng v√† ƒë·∫ßy ƒë·ªß c·ªßa c√°c file hi·ªán c√≥
- **_B·∫ÆT BU·ªòC_** identify gaps v√† areas c·∫ßn improvement
- **_B·∫ÆT BU·ªòC_** x√°c ƒë·ªãnh scope c·ªßa changes c·∫ßn th·ª±c hi·ªán

#### Context Analysis Decision Tree

```
IF (no files exist) ‚Üí CREATE_NEW mode
ELSE IF (user requests update) ‚Üí UPDATE_EXISTING mode
ELSE IF (files incomplete/outdated) ‚Üí SUPPLEMENT_DATA mode
ELSE IF (major changes needed) ‚Üí RESTRUCTURE mode
```

### Phase 1: Brainstorm/Update (Foundation)

#### For CREATE_NEW Mode

- **_B·∫ÆT BU·ªòC_** s·ª≠ d·ª•ng [Brainstorm Detailed Workflow](brainstorm-detailed-workflow.mdc)
- **_B·∫ÆT BU·ªòC_** th·ª±c hi·ªán 3 giai ƒëo·∫°n brainstorm: Foundation ‚Üí Structure ‚Üí Advanced
- **_B·∫ÆT BU·ªòC_** t·∫°o file `Brainstorm_{ProjectName}.md` v·ªõi ƒë·∫ßy ƒë·ªß insights
- **_B·∫ÆT BU·ªòC_** x√°c ƒë·ªãnh project scope, objectives, v√† target users
- **_B·∫ÆT BU·ªòC_** ph√¢n t√≠ch competitors v√† market research
- **_B·∫ÆT BU·ªòC_** ƒë·ªãnh nghƒ©a core features v√† user stories

#### For UPDATE_EXISTING Mode

- **_B·∫ÆT BU·ªòC_** load existing brainstorm/requirements/design data
- **_B·∫ÆT BU·ªòC_** identify specific areas c·∫ßn update theo user request
- **_B·∫ÆT BU·ªòC_** perform targeted brainstorm cho new/changed requirements
- **_B·∫ÆT BU·ªòC_** maintain consistency v·ªõi existing project vision
- **_B·∫ÆT BU·ªòC_** document rationale cho changes

#### For SUPPLEMENT_DATA Mode

- **_B·∫ÆT BU·ªòC_** analyze gaps trong existing documentation
- **_B·∫ÆT BU·ªòC_** perform focused brainstorm ƒë·ªÉ fill gaps
- **_B·∫ÆT BU·ªòC_** ensure new data integrates seamlessly v·ªõi existing content
- **_B·∫ÆT BU·ªòC_** validate completeness sau khi supplement

#### For RESTRUCTURE Mode

- **_B·∫ÆT BU·ªòC_** backup existing files tr∆∞·ªõc khi restructure
- **_B·∫ÆT BU·ªòC_** perform comprehensive analysis c·ªßa current state
- **_B·∫ÆT BU·ªòC_** design new structure based on requirements
- **_B·∫ÆT BU·ªòC_** migrate existing content sang new structure
- **_B·∫ÆT BU·ªòC_** validate integrity sau restructure

### Phase 2: Requirements Generation/Update

#### For CREATE_NEW Mode

- **_B·∫ÆT BU·ªòC_** t·∫°o `.kiro/specs/{project}/requirements.md` t·ª´ brainstorm results
- **_B·∫ÆT BU·ªòC_** convert brainstorm insights th√†nh structured requirements
- **_B·∫ÆT BU·ªòC_** ƒë·ªãnh nghƒ©a functional v√† non-functional requirements
- **_B·∫ÆT BU·ªòC_** x√°c ƒë·ªãnh acceptance criteria cho m·ªói requirement
- **_B·∫ÆT BU·ªòC_** prioritize requirements theo MoSCoW method (Must, Should, Could, Won't)

#### For UPDATE_EXISTING Mode

- **_B·∫ÆT BU·ªòC_** load existing requirements.md
- **_B·∫ÆT BU·ªòC_** identify specific requirements c·∫ßn update/add/remove
- **_B·∫ÆT BU·ªòC_** update requirements while maintaining traceability
- **_B·∫ÆT BU·ªòC_** re-prioritize requirements n·∫øu c·∫ßn thi·∫øt
- **_B·∫ÆT BU·ªòC_** update acceptance criteria cho changed requirements
- **_B·∫ÆT BU·ªòC_** document change rationale v√† impact analysis

#### For SUPPLEMENT_DATA Mode

- **_B·∫ÆT BU·ªòC_** analyze existing requirements cho gaps
- **_B·∫ÆT BU·ªòC_** add missing functional/non-functional requirements
- **_B·∫ÆT BU·ªòC_** enhance existing requirements v·ªõi additional details
- **_B·∫ÆT BU·ªòC_** ensure consistency v·ªõi existing requirement structure
- **_B·∫ÆT BU·ªòC_** validate completeness sau supplementation

#### For RESTRUCTURE Mode

- **_B·∫ÆT BU·ªòC_** backup existing requirements.md
- **_B·∫ÆT BU·ªòC_** reorganize requirements theo new structure
- **_B·∫ÆT BU·ªòC_** migrate existing content sang new format
- **_B·∫ÆT BU·ªòC_** update cross-references v√† dependencies
- **_B·∫ÆT BU·ªòC_** validate restructured requirements

#### Requirements Structure Template

```markdown
# Project Requirements

## 1. Project Overview

- Project Name: [Name]
- Project Type: [Type]
- Target Platform: [Platform]
- Timeline: [Timeline]

## 2. Functional Requirements

### FR-001: [Requirement Name]

- **Description**: [Detailed description]
- **Priority**: Must/Should/Could/Won't
- **Acceptance Criteria**:
  - [ ] Criterion 1
  - [ ] Criterion 2
- **Dependencies**: [Other requirements]
- **Source**: [Brainstorm insight reference]

## 3. Non-Functional Requirements

### NFR-001: [Requirement Name]

- **Category**: Performance/Security/Usability/etc.
- **Description**: [Detailed description]
- **Metrics**: [Measurable criteria]
- **Priority**: Must/Should/Could/Won't

## 4. Constraints

- Technical constraints
- Business constraints
- Time constraints
- Resource constraints

## 5. Assumptions

- List of assumptions made during requirements gathering
```

### Phase 3: Design Generation/Update

#### For CREATE_NEW Mode

- **_B·∫ÆT BU·ªòC_** t·∫°o `.kiro/specs/{project}/design.md` t·ª´ requirements
- **_B·∫ÆT BU·ªòC_** ƒë·ªãnh nghƒ©a system architecture v√† component design
- **_B·∫ÆT BU·ªòC_** t·∫°o user interface design specifications
- **_B·∫ÆT BU·ªòC_** ƒë·ªãnh nghƒ©a data models v√† database schema
- **_B·∫ÆT BU·ªòC_** x√°c ƒë·ªãnh API endpoints v√† integration points
- **_B·∫ÆT BU·ªòC_** t·∫°o user flow diagrams v√† wireframes (text-based)

#### For UPDATE_EXISTING Mode

- **_B·∫ÆT BU·ªòC_** load existing design.md
- **_B·∫ÆT BU·ªòC_** identify design components c·∫ßn update theo changed requirements
- **_B·∫ÆT BU·ªòC_** update architecture/UI/data models theo new requirements
- **_B·∫ÆT BU·ªòC_** maintain design consistency v√† backward compatibility
- **_B·∫ÆT BU·ªòC_** update integration points v√† API specifications
- **_B·∫ÆT BU·ªòC_** document design change rationale v√† impact

#### For SUPPLEMENT_DATA Mode

- **_B·∫ÆT BU·ªòC_** analyze existing design cho missing components
- **_B·∫ÆT BU·ªòC_** add missing design specifications
- **_B·∫ÆT BU·ªòC_** enhance existing design v·ªõi additional details
- **_B·∫ÆT BU·ªòC_** ensure new design elements integrate v·ªõi existing architecture
- **_B·∫ÆT BU·ªòC_** validate design completeness v√† consistency

#### For RESTRUCTURE Mode

- **_B·∫ÆT BU·ªòC_** backup existing design.md
- **_B·∫ÆT BU·ªòC_** redesign architecture theo new requirements structure
- **_B·∫ÆT BU·ªòC_** migrate existing design elements sang new structure
- **_B·∫ÆT BU·ªòC_** update all design cross-references v√† dependencies
- **_B·∫ÆT BU·ªòC_** validate restructured design integrity

#### Design Structure Template

```markdown
# Project Design Specification

## 1. System Architecture

### 1.1 High-Level Architecture

- Architecture pattern: [MVC/MVVM/Clean Architecture/etc.]
- Technology stack: [Technologies]
- Deployment architecture: [Cloud/On-premise/Hybrid]

### 1.2 Component Design

- Component 1: [Description and responsibilities]
- Component 2: [Description and responsibilities]

## 2. User Interface Design

### 2.1 Design Principles

- Design system: [Material Design/Human Interface Guidelines/Custom]
- Color scheme: [Primary/Secondary colors]
- Typography: [Font families and sizes]

### 2.2 Screen Specifications

#### Screen 1: [Screen Name]

- **Purpose**: [What this screen does]
- **Layout**: [Description of layout]
- **Components**: [List of UI components]
- **User Interactions**: [Available actions]
- **Navigation**: [How users navigate to/from this screen]

## 3. Data Design

### 3.1 Data Models
```

Entity: [EntityName]

- field1: [type] - [description]
- field2: [type] - [description]

```

### 3.2 Database Schema
- Database type: [SQL/NoSQL]
- Tables/Collections: [List and relationships]

## 4. API Design
### 4.1 Endpoints
```

GET /api/endpoint

- Purpose: [Description]
- Parameters: [List parameters]
- Response: [Response format]

```

## 5. Integration Points
- External APIs: [List and purpose]
- Third-party services: [List and integration method]
```

### Phase 4: Task Generation/Update

#### For CREATE_NEW Mode

- **_B·∫ÆT BU·ªòC_** t·∫°o `.kiro/specs/{project}/tasks.md` t·ª´ design specifications
- **_B·∫ÆT BU·ªòC_** convert design components th√†nh executable tasks
- **_B·∫ÆT BU·ªòC_** s·ª≠ d·ª•ng Kiro task format v·ªõi ID, status, priority, dependencies
- **_B·∫ÆT BU·ªòC_** ƒë·ªãnh nghƒ©a acceptance criteria cho m·ªói task
- **_B·∫ÆT BU·ªòC_** x√°c ƒë·ªãnh task dependencies v√† execution order
- **_B·∫ÆT BU·ªòC_** estimate effort v√† complexity cho m·ªói task

#### For UPDATE_EXISTING Mode

- **_B·∫ÆT BU·ªòC_** load existing tasks.md
- **_B·∫ÆT BU·ªòC_** identify tasks c·∫ßn update/add/remove theo design changes
- **_B·∫ÆT BU·ªòC_** update existing tasks while preserving completed work
- **_B·∫ÆT BU·ªòC_** add new tasks cho new design components
- **_B·∫ÆT BU·ªòC_** update task dependencies v√† priorities
- **_B·∫ÆT BU·ªòC_** re-estimate effort cho changed tasks
- **_B·∫ÆT BU·ªòC_** document task change rationale v√† impact

#### For SUPPLEMENT_DATA Mode

- **_B·∫ÆT BU·ªòC_** analyze existing tasks cho missing coverage
- **_B·∫ÆT BU·ªòC_** add missing tasks cho uncovered design components
- **_B·∫ÆT BU·ªòC_** enhance existing tasks v·ªõi additional details
- **_B·∫ÆT BU·ªòC_** ensure new tasks integrate v·ªõi existing task flow
- **_B·∫ÆT BU·ªòC_** validate task completeness v√† coverage

#### For RESTRUCTURE Mode

- **_B·∫ÆT BU·ªòC_** backup existing tasks.md
- **_B·∫ÆT BU·ªòC_** reorganize tasks theo new design structure
- **_B·∫ÆT BU·ªòC_** migrate existing task progress sang new structure
- **_B·∫ÆT BU·ªòC_** update all task dependencies v√† cross-references
- **_B·∫ÆT BU·ªòC_** validate restructured task integrity v√† executability

#### Task Generation Rules (Universal)

- M·ªói design component t∆∞∆°ng ·ª©ng v·ªõi 1-3 tasks
- Tasks ph·∫£i c√≥ th·ªÉ th·ª±c hi·ªán ƒë·ªôc l·∫≠p (v·ªõi dependencies ƒë∆∞·ª£c resolve)
- M·ªói task kh√¥ng n√™n v∆∞·ª£t qu√° 1 ng√†y c√¥ng vi·ªác
- Tasks ph·∫£i c√≥ acceptance criteria r√µ r√†ng v√† measurable
- Preserve existing task status khi update/restructure

## Validation v√† Quality Gates

### Pre-Phase Validation (Universal)

- **_B·∫ÆT BU·ªòC_** implement **Recitation System** tr∆∞·ªõc m·ªói phase
- **_B·∫ÆT BU·ªòC_** √°p d·ª•ng **"Execute ‚Üí Verify ‚Üí Validate ‚Üí Update"** pattern
- **_B·∫ÆT BU·ªòC_** validate plan comprehension tr∆∞·ªõc khi th·ª±c hi·ªán
- **_B·∫ÆT BU·ªòC_** document implementation notes cho m·ªói step
- **_B·∫ÆT BU·ªòC_** Context Analysis validation: X√°c nh·∫≠n operation mode ph√π h·ª£p

#### Initial Recitation Protocol

```markdown
I understand I need to implement: [brief phase summary]
The phase has [N] major steps: [list high-level steps]
Success criteria: [list main success criteria]
Operation mode: [CREATE_NEW/UPDATE_EXISTING/SUPPLEMENT_DATA/RESTRUCTURE]
```

#### Milestone Recitation Protocol

```markdown
Progress Update:
‚úÖ Completed: [list completed items]
üîÑ Current: [current step]
‚è≥ Remaining: [list remaining items]
Plan validation: [any concerns or confirmations about remaining steps]
Mode-specific considerations: [any mode-specific validations needed]
```

### Requirements Validation (Mode-Specific)

#### For CREATE_NEW

- **_B·∫ÆT BU·ªòC_** review requirements v·ªõi stakeholders (n·∫øu c√≥)
- **_B·∫ÆT BU·ªòC_** ƒë·∫£m b·∫£o requirements SMART (Specific, Measurable, Achievable, Relevant, Time-bound)
- **_B·∫ÆT BU·ªòC_** ki·ªÉm tra consistency gi·ªØa functional v√† non-functional requirements
- **_B·∫ÆT BU·ªòC_** validate feasibility v·ªõi technical constraints
- **_B·∫ÆT BU·ªòC_** apply **Plan Correction Protocol** n·∫øu ph√°t hi·ªán issues

#### For UPDATE_EXISTING/SUPPLEMENT_DATA/RESTRUCTURE

- **_B·∫ÆT BU·ªòC_** validate existing requirements integrity
- **_B·∫ÆT BU·ªòC_** check change impact v√† backward compatibility
- **_B·∫ÆT BU·ªòC_** ensure updated requirements consistency
- **_B·∫ÆT BU·ªòC_** validate change rationale v√† documentation
- **_B·∫ÆT BU·ªòC_** apply **Plan Correction Protocol** n·∫øu c√≥ conflicts

### Design Validation (Mode-Specific)

#### For CREATE_NEW

- **_B·∫ÆT BU·ªòC_** ƒë·∫£m b·∫£o design satisfy t·∫•t c·∫£ requirements
- **_B·∫ÆT BU·ªòC_** ki·ªÉm tra architectural consistency
- **_B·∫ÆT BU·ªòC_** validate scalability v√† maintainability
- **_B·∫ÆT BU·ªòC_** review security considerations
- **_B·∫ÆT BU·ªòC_** implement **step-by-step validation** cho m·ªói design component

#### For UPDATE_EXISTING/SUPPLEMENT_DATA/RESTRUCTURE

- **_B·∫ÆT BU·ªòC_** validate design change consistency v·ªõi requirements
- **_B·∫ÆT BU·ªòC_** check architectural integrity sau changes
- **_B·∫ÆT BU·ªòC_** validate integration compatibility
- **_B·∫ÆT BU·ªòC_** ensure design evolution coherence
- **_B·∫ÆT BU·ªòC_** implement **step-by-step validation** cho changed components

### Task Validation (Mode-Specific)

#### For CREATE_NEW

- **_B·∫ÆT BU·ªòC_** ƒë·∫£m b·∫£o tasks cover to√†n b·ªô design specifications
- **_B·∫ØT BU·ªòC_** ki·ªÉm tra task dependencies kh√¥ng c√≥ circular references
- **_B·∫ÆT BU·ªòC_** validate task acceptance criteria
- **_B·∫ÆT BU·ªòC_** estimate total effort v√† timeline
- **_B·∫ÆT BU·ªòC_** apply **progress tracking format**: `- [x] ~~Step completed~~ ‚úÖ Implemented`

#### For UPDATE_EXISTING/SUPPLEMENT_DATA/RESTRUCTURE

- **_B·∫ÆT BU·ªòC_** validate task changes kh√¥ng break existing dependencies
- **_B·∫ÆT BU·ªòC_** check task coverage completeness
- **_B·∫ÆT BU·ªòC_** ensure task status preservation
- **_B·∫ÆT BU·ªòC_** validate updated effort estimates
- **_B·∫ÆT BU·ªòC_** apply **progress tracking format** cho new/changed tasks

## Integration v·ªõi Kiro System

### Dynamic Workflow Protocol

- **_B·∫ÆT BU·ªòC_** workflow c√≥ th·ªÉ ƒë∆∞·ª£c trigger b·ªüi user request ho·∫∑c system analysis
- **_B·∫ÆT BU·ªòC_** support both standalone execution v√† integration v·ªõi existing Kiro workflows
- **_B·∫ÆT BU·ªòC_** maintain compatibility v·ªõi existing Kiro system expectations
- **_B·∫ÆT BU·ªòC_** provide seamless transition gi·ªØa c√°c operation modes

### File Structure Compliance

- **_B·∫ÆT BU·ªòC_** t·∫°o files theo ƒë√∫ng Kiro directory structure
- **_B·∫ÆT BU·ªòC_** s·ª≠ d·ª•ng Kiro naming conventions
- **_B·∫ÆT BU·ªòC_** format files theo Kiro specifications
- **_B·∫ÆT BU·ªòC_** maintain traceability links gi·ªØa c√°c files

### Handoff Protocol (Mode-Specific)

#### For CREATE_NEW Mode

- **_B·∫ÆT BU·ªòC_** sau khi ho√†n th√†nh workflow, chuy·ªÉn giao cho Kiro system
- **_B·∫ÆT BU·ªòC_** ƒë·∫£m b·∫£o t·∫•t c·∫£ files (requirements.md, design.md, tasks.md) t·ªìn t·∫°i
- **_B·∫ÆT BU·ªòC_** validate file format compatibility v·ªõi Kiro expectations
- **_B·∫ÆT BU·ªòC_** trigger Kiro workflow execution v·ªõi generated artifacts

#### For UPDATE_EXISTING/SUPPLEMENT_DATA/RESTRUCTURE Modes

- **_B·∫ÆT BU·ªòC_** notify Kiro system v·ªÅ changes made
- **_B·∫ÆT BU·ªòC_** update Kiro system state v·ªõi modified artifacts
- **_B·∫ÆT BU·ªòC_** validate updated artifacts compatibility
- **_B·∫ÆT BU·ªòC_** trigger appropriate Kiro workflow phases based on changes

### Handoff to Kiro Execution

- **_B·∫ÆT BU·ªòC_** validate file format compatibility v·ªõi Kiro tools
- **_B·∫ÆT BU·ªòC_** test task execution v·ªõi [Kiro Task Execution](kiro-task-execution.mdc)
- **_B·∫ÆT BU·ªòC_** ensure seamless transition t·ª´ dynamic workflow sang Kiro workflow

## Error Handling v√† Plan Correction Protocol

### Plan Correction Protocol (T·ª´ Note.md Implementation Mode)

- **_B·∫ÆT BU·ªòC_** **STOP IMMEDIATELY** khi ph√°t hi·ªán deviation t·ª´ plan
- **_B·∫ÆT BU·ªòC_** document deviation v·ªõi format:

  ```markdown
  **PLAN DEVIATION DETECTED**

  - Current step: [step name]
  - Expected outcome: [what was planned]
  - Actual situation: [what actually happened]
  - Impact assessment: [how this affects remaining plan]
  - Proposed correction: [suggested fix]
  ```

- **_B·∫ÆT BU·ªòC_** request user approval tr∆∞·ªõc khi implement correction
- **_B·∫ÆT BU·ªòC_** update plan documentation sau khi correction ƒë∆∞·ª£c approve

### Implementation Mode Integration (Universal)

- **_B·∫ÆT BU·ªòC_** apply **Recitation System** khi g·∫∑p unclear requirements
- **_B·∫ÆT BU·ªòC_** implement **step-by-step validation** cho m·ªói phase
- **_B·∫ÆT BU·ªòC_** use **progress tracking format** cho all deliverables
- **_B·∫ÆT BU·ªòC_** maintain **implementation notes** throughout process
- **_B·∫ÆT BU·ªòC_** handle mode-specific error scenarios appropriately

### Context Analysis Error Handling

- **_B·∫ÆT BU·ªòC_** STOP n·∫øu kh√¥ng th·ªÉ determine appropriate operation mode
- **_B·∫ÆT BU·ªòC_** validate file existence v√† completeness tr∆∞·ªõc khi proceed
- **_B·∫ÆT BU·ªòC_** confirm user intent n·∫øu multiple modes applicable
- **_B·∫ÆT BU·ªòC_** document mode selection rationale

### Brainstorm/Update Phase Error Handling

#### For CREATE_NEW Mode

- N·∫øu kh√¥ng th·ªÉ access competitor information ‚Üí **STOP**, document issue, request user guidance
- N·∫øu feature definition kh√¥ng clear ‚Üí apply **Plan Correction Protocol**
- N·∫øu kh√¥ng th·ªÉ generate comprehensive brainstorm ‚Üí **STOP**, validate v·ªõi user v·ªÅ minimal viable approach

#### For UPDATE_EXISTING/SUPPLEMENT_DATA/RESTRUCTURE Modes

- **_B·∫ÆT BU·ªòC_** STOP n·∫øu existing content kh√¥ng th·ªÉ parse ho·∫∑c understand
- **_B·∫ÆT BU·ªòC_** validate change requests against existing structure
- **_B·∫ÆT BU·ªòC_** apply Recitation System cho conflicting requirements
- **_B·∫ÆT BU·ªòC_** use Plan Correction Protocol cho major structural changes

### Requirements Generation/Update Error Handling

#### Universal Rules

- N·∫øu brainstorm data insufficient ‚Üí apply **Plan Correction Protocol** v·ªõi user input request
- N·∫øu kh√¥ng th·ªÉ apply MoSCoW ‚Üí **STOP**, document limitation, request approval cho alternative approach
- N·∫øu acceptance criteria kh√¥ng feasible ‚Üí apply **step-by-step validation** ƒë·ªÉ identify specific issues

#### Mode-Specific Rules

- **UPDATE_EXISTING**: STOP n·∫øu changes break existing dependencies
- **SUPPLEMENT_DATA**: STOP n·∫øu new requirements conflict v·ªõi existing ones
- **RESTRUCTURE**: STOP n·∫øu restructure loses critical information

### Design Phase Error Handling

#### Universal Rules

- N·∫øu requirements unclear ‚Üí **STOP**, implement **Recitation System** ƒë·ªÉ clarify understanding
- N·∫øu technical constraints kh√¥ng realistic ‚Üí apply **Plan Correction Protocol**
- N·∫øu UI/UX specifications qu√° complex ‚Üí **STOP**, validate scope reduction v·ªõi user

#### Mode-Specific Rules

- **UPDATE_EXISTING**: STOP n·∫øu design changes break backward compatibility
- **SUPPLEMENT_DATA**: STOP n·∫øu new design elements kh√¥ng integrate properly
- **RESTRUCTURE**: STOP n·∫øu restructure affects system integrity

### Task Generation/Update Error Handling

#### Universal Rules

- N·∫øu design specifications incomplete ‚Üí **STOP**, validate partial implementation approach
- N·∫øu dependency mapping qu√° complex ‚Üí apply **Plan Correction Protocol** cho simplified approach
- N·∫øu acceptance criteria kh√¥ng measurable ‚Üí implement **progress tracking format** v·ªõi basic metrics

#### Mode-Specific Rules

- **UPDATE_EXISTING**: STOP n·∫øu task changes affect completed work
- **SUPPLEMENT_DATA**: STOP n·∫øu new tasks create circular dependencies
- **RESTRUCTURE**: STOP n·∫øu task reorganization loses progress tracking

### Recovery Protocols

#### Incomplete Brainstorm Recovery

- Apply **Recitation System** ƒë·ªÉ validate current understanding
- Document missing information v·ªõi **Plan Correction Protocol**
- Request user approval cho alternative brainstorm approach

#### Design Issues Recovery

- Implement **step-by-step validation** cho design components
- Apply **Plan Correction Protocol** khi technical constraints conflict
- Use **progress tracking format** ƒë·ªÉ monitor design review progress

#### Task Generation Problems Recovery

- Apply **Execute ‚Üí Verify ‚Üí Validate ‚Üí Update** pattern cho task breakdown
- Use **Plan Correction Protocol** khi dependencies qu√° ph·ª©c t·∫°p
- Implement **Recitation System** ƒë·ªÉ validate task acceptance criteria

## Monitoring v√† Metrics v·ªõi Implementation Mode Integration

### Quality Assurance Standards (T·ª´ Note.md Implementation Mode)

- **_B·∫ÆT BU·ªòC_** implement **methodical approach** v·ªõi step-by-step validation
- **_B·∫ÆT BU·ªòC_** maintain **quality standards** cho code patterns, documentation, v√† testing
- **_B·∫ÆT BU·ªòC_** apply **plan-driven execution** v·ªõi strict adherence to implementation plans
- **_B·∫ÆT BU·ªòC_** document **implementation notes** cho m·ªói completed step

### Enhanced Process Metrics

- Time t·ª´ brainstorm ƒë·∫øn completed tasks v·ªõi **Recitation System** overhead
- Number of iterations c·∫ßn thi·∫øt cho m·ªói phase v·ªõi **Plan Correction Protocol**
- Quality c·ªßa generated artifacts v·ªõi **step-by-step validation**
- **Plan deviation frequency** v√† correction success rate
- **Implementation notes coverage** percentage

### Comprehensive Success Criteria

- T·∫•t c·∫£ 4 files ƒë∆∞·ª£c t·∫°o th√†nh c√¥ng v·ªõi **quality assurance standards**
- Tasks c√≥ th·ªÉ execute ƒë∆∞·ª£c b·∫±ng Kiro system v·ªõi complete documentation
- Zero blocking issues trong task execution v·ªõi **Plan Correction Protocol** support
- Stakeholder approval cho requirements v√† design v·ªõi **step-by-step validation**
- **_B·∫ÆT BU·ªòC_** all **implementation notes** documented v√† validated
- **_B·∫ÆT BU·ªòC_** **plan-driven execution** maintained throughout process
- **_B·∫ÆT BU·ªòC_** successful handoff sang Kiro workflow v·ªõi complete documentation
- **_B·∫ÆT BU·ªòC_** **Plan Correction Protocol** documentation complete n·∫øu c√≥ deviations

## Best Practices

### Documentation (Mode-Aware)

- **_B·∫ÆT BU·ªòC_** maintain traceability t·ª´ brainstorm ƒë·∫øn tasks
- **_B·∫ÆT BU·ªòC_** document assumptions, decisions, v√† changes
- **_B·∫ÆT BU·ªòC_** version control t·∫•t c·∫£ generated files v·ªõi change history
- **_KHUY·∫æN NGH·ªä_** t·∫°o summary document cho quick reference
- **_B·∫ÆT BU·ªòC_** track operation mode rationale v√† outcomes

### Collaboration (Enhanced)

- **_B·∫ÆT BU·ªòC_** involve stakeholders trong requirements review (all modes)
- **_KHUY·∫æN NGH·ªä_** peer review cho design specifications
- **_B·∫ÆT BU·ªòC_** validate tasks v·ªõi development team
- **_B·∫ÆT BU·ªòC_** continuous feedback loop v·ªõi users
- **_B·∫ÆT BU·ªòC_** change impact communication cho UPDATE/RESTRUCTURE modes

### Continuous Improvement (Dynamic)

- **_B·∫ÆT BU·ªòC_** collect feedback sau m·ªói dynamic workflow execution per mode
- **_B·∫ÆT BU·ªòC_** update templates d·ª±a tr√™n lessons learned across different operations
- **_KHUY·∫æN NGH·ªä_** maintain knowledge base c·ªßa common patterns
- **_B·∫ÆT BU·ªòC_** optimize workflow efficiency cho each operation type
- **_B·∫ÆT BU·ªòC_** monitor mode usage patterns v√† success rates

## T√≠ch H·ª£p v·ªõi Existing Workflows

### Planning Workflow Integration (Enhanced)

- **_B·∫ÆT BU·ªòC_** s·ª≠ d·ª•ng [Planning Workflow](planning-workflow.mdc) sau khi c√≥ tasks
- **_B·∫ÆT BU·ªòC_** apply planning validation rules
- **_B·∫ÆT BU·ªòC_** integrate v·ªõi project stage management
- **_B·∫ÆT BU·ªòC_** support incremental planning updates cho non-CREATE modes

### Development Workflow Integration (Mode-Aware)

- **_B·∫ÆT BU·ªòC_** transition sang [Development Rules](development-rules.mdc) sau task generation
- **_B·∫ÆT BU·ªòC_** apply [Auto Task Execution](auto-task-execution.mdc) cho generated tasks
- **_B·∫ÆT BU·ªòC_** maintain consistency v·ªõi existing development practices
- **_B·∫ÆT BU·ªòC_** support development workflow updates cho changed artifacts

### Quality Assurance Integration (Universal)

- **_B·∫ÆT BU·ªòC_** all artifacts must pass quality gates tr∆∞·ªõc khi handoff
- **_B·∫ÆT BU·ªòC_** validation protocols ensure compatibility v·ªõi downstream processes
- **_B·∫ÆT BU·ªòC_** error handling mechanisms prevent workflow disruption
- **_B·∫ÆT BU·ªòC_** mode-specific quality checks ensure appropriate validation

---

**L∆∞u √Ω quan tr·ªçng**: Kiro Dynamic Workflow c√≥ th·ªÉ ƒë∆∞·ª£c s·ª≠ d·ª•ng:

1. **As Dynamic Workflow**: Khi Kiro tools kh√¥ng available ho·∫∑c kh√¥ng th·ªÉ t·∫°o ƒë∆∞·ª£c required files
2. **On Demand**: Khi user explicitly requests artifact creation/update
3. **For Maintenance**: Khi c·∫ßn supplement ho·∫∑c restructure existing artifacts
4. **For Evolution**: Khi project requirements ho·∫∑c scope changes

Trong normal operations v·ªõi stable artifacts, prefer using dedicated Kiro tools. Dynamic workflow provides flexibility cho changing requirements v√† iterative development.
