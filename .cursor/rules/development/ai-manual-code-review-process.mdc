---
description: AI Manual Code Review Process - Cursor Optimized quy trÃ¬nh review code thá»§ cÃ´ng cho AI assistants. KÃ­ch hoáº¡t khi working vá»›i code review, quality assurance, hoáº·c manual code analysis.
alwaysApply: false
---

# AI Manual Code Review Process - Cursor Optimized

## ðŸŽ¯ Purpose & Scope

**_Báº®T BUá»˜C_** quy trÃ¬nh review code thá»§ cÃ´ng cho AI assistants (TRAE, KIRO, Claude, Gemini) Ä‘á»ƒ Ä‘áº£m báº£o code quality mÃ  khÃ´ng dá»±a vÃ o IDE automation features.

## ðŸ”§ Cursor-Optimized Workflow

### Pre-Review Setup (< 250 lines optimization)

**_Báº®T BUá»˜C_** phÃ¢n tÃ­ch file theo chunks 250 dÃ²ng Ä‘á»ƒ tá»‘i Æ°u vá»›i Cursor indexing:

```markdown
â˜ 1. CHECK file size - náº¿u > 250 lines â†’ split analysis
â˜ 2. SCAN package vÃ  import section (lines 1-50)
â˜ 3. ANALYZE class declarations (lines 51-100)  
â˜ 4. REVIEW method signatures (lines 101-150)
â˜ 5. VALIDATE implementation (lines 151-200)
â˜ 6. CHECK remaining code (lines 201-250)
â˜ 7. REPEAT process for larger files
```

## ðŸ¤– AI Review Execution Rules

### MANDATORY: Before Every Review

```markdown
**AI MUST EXECUTE:**
â˜ Read entire file to understand context
â˜ Identify project type (Android/Web/Backend/Mobile)
â˜ Check existing coding patterns and conventions
â˜ Note framework-specific requirements
â˜ Prepare common fix templates
â˜ Set confidence thresholds for auto-fixes
```

### During Review Process

```markdown
**REAL-TIME VALIDATION:**
â˜ Flag import issues immediately
â˜ Catch type safety violations
â˜ Detect syntax errors in progress
â˜ Validate naming conventions
â˜ Check for performance anti-patterns
â˜ Ensure proper error handling
```

### Post-Review Actions

```markdown
**COMPLETION CHECKLIST:**
â˜ Generate comprehensive fix list
â˜ Prioritize fixes by severity
â˜ Apply high-confidence auto-fixes
â˜ Flag manual review items
â˜ Document all changes made
â˜ Verify no new issues introduced
```

## ðŸŽ¯ AI-Specific Review Protocols

### TRAE AI Review Protocol

```markdown
**ANDROID-SPECIFIC CHECKS:**
Priority: CRITICAL
â˜ androidx.\* imports validation
â˜ Fragment lifecycle compliance
â˜ ViewModel pattern adherence
â˜ RecyclerView implementation correctness
â˜ Compose annotation validation (@Composable, @Preview)
â˜ Android Context usage safety
â˜ Resource management (memory leaks)

**AUTO-FIX CONFIDENCE LEVELS:**

- Import additions: 95% confidence â†’ AUTO-APPLY
- Safe call operators: 90% confidence â†’ AUTO-APPLY
- Basic syntax fixes: 98% confidence â†’ AUTO-APPLY
- Lifecycle fixes: 80% confidence â†’ MANUAL REVIEW
- Performance changes: 60% confidence â†’ FLAG ONLY
```

### KIRO System Review Protocol

```markdown
**CONFIGURATION-SPECIFIC CHECKS:**
Priority: HIGH
â˜ YAML/JSON syntax validation
â˜ Task dependency correctness
â˜ File path reference accuracy
â˜ Module registration verification
â˜ Configuration parameter validation
â˜ Error handling completeness

**AUTO-FIX CONFIDENCE LEVELS:**

- YAML syntax: 95% confidence â†’ AUTO-APPLY
- Missing dependencies: 85% confidence â†’ AUTO-APPLY
- File path corrections: 90% confidence â†’ AUTO-APPLY
- Complex config changes: 70% confidence â†’ MANUAL REVIEW
```

### Claude Integration Review Protocol

```markdown
**API-SPECIFIC CHECKS:**
Priority: HIGH
â˜ API call error handling
â˜ Async/await pattern validation
â˜ JSON parsing safety
â˜ HTTP timeout configuration
â˜ Network permission checks
â˜ Response data validation

**AUTO-FIX CONFIDENCE LEVELS:**

- Try-catch additions: 90% confidence â†’ AUTO-APPLY
- Timeout configurations: 85% confidence â†’ AUTO-APPLY
- JSON null checks: 95% confidence â†’ AUTO-APPLY
- Complex async patterns: 75% confidence â†’ MANUAL REVIEW
```

### Gemini Integration Review Protocol

```markdown
**ML-SPECIFIC CHECKS:**  
Priority: HIGH
â˜ Model initialization safety
â˜ Input validation for ML calls
â˜ Tensor dimension compatibility
â˜ Resource cleanup verification
â˜ ML Kit API usage validation
â˜ Performance optimization checks

**AUTO-FIX CONFIDENCE LEVELS:**

- Input validation: 90% confidence â†’ AUTO-APPLY
- Resource cleanup: 85% confidence â†’ AUTO-APPLY
- Error handling: 95% confidence â†’ AUTO-APPLY
- Model optimization: 60% confidence â†’ FLAG ONLY
```

## ðŸ“‹ Detailed Review Checklist

### Phase 1: Critical Issues (BLOCK EXECUTION)

```markdown
**MUST FIX IMMEDIATELY - Zero Tolerance:**

â˜ Missing import statements
â†’ AUTO-FIX: Add standard imports for detected classes
â†’ CONFIDENCE: 95%+ only

â˜ Syntax errors (brackets, parentheses)
â†’ AUTO-FIX: Complete missing brackets/parentheses
â†’ CONFIDENCE: 98%+ only

â˜ Type mismatches
â†’ AUTO-FIX: Add .toString(), .toInt(), safe casting
â†’ CONFIDENCE: 90%+ for simple conversions

â˜ Null pointer risks
â†’ AUTO-FIX: Add ?. safe call operators
â†’ CONFIDENCE: 95%+ for obvious cases

â˜ Unresolved references
â†’ AUTO-FIX: Add imports or suggest alternatives
â†’ CONFIDENCE: 90%+ for standard libraries
```

### Phase 2: High Priority Issues

```markdown
**FIX BEFORE PROCEEDING:**

â˜ Unused imports
â†’ AUTO-FIX: Remove unused import statements
â†’ CONFIDENCE: 95%+ (scan entire file first)

â˜ Naming convention violations
â†’ SUGGEST: Proper camelCase/PascalCase usage
â†’ CONFIDENCE: 80%+ (context-dependent)

â˜ Missing error handling
â†’ AUTO-ADD: Basic try-catch blocks
â†’ CONFIDENCE: 85%+ for API calls

â˜ Performance anti-patterns
â†’ FLAG: Inefficient loops, memory leaks
â†’ CONFIDENCE: 70%+ (manual review required)

â˜ Security vulnerabilities
â†’ FLAG: Hardcoded strings, unsafe operations
â†’ CONFIDENCE: 80%+ (immediate attention)
```

### Phase 3: Medium Priority Issues

```markdown
**ADDRESS WHEN POSSIBLE:**

â˜ Code style inconsistencies
â†’ AUTO-FORMAT: Indentation, spacing
â†’ CONFIDENCE: 90%+ (non-breaking changes)

â˜ Missing documentation
â†’ SUGGEST: Add KDoc/JavaDoc comments
â†’ CONFIDENCE: 60%+ (context-dependent)

â˜ Optimization opportunities
â†’ SUGGEST: Better algorithms, caching
â†’ CONFIDENCE: 50%+ (manual evaluation)

â˜ Redundant code
â†’ SUGGEST: Extract methods, remove duplication
â†’ CONFIDENCE: 70%+ (careful analysis needed)
```

## ðŸ› ï¸ Smart Fix Templates

### Android-Specific Fixes

```kotlin
// TEMPLATE: Android Import Auto-Fix
private val androidImportMap = mapOf(
    "Fragment" to "androidx.fragment.app.Fragment",
    "ViewModel" to "androidx.lifecycle.ViewModel",
    "LiveData" to "androidx.lifecycle.LiveData",
    "MutableLiveData" to "androidx.lifecycle.MutableLiveData",
    "RecyclerView" to "androidx.recyclerview.widget.RecyclerView",
    "Context" to "android.content.Context",
    "Intent" to "android.content.Intent",
    "Bundle" to "android.os.Bundle",
    "Log" to "android.util.Log",
    "Toast" to "android.widget.Toast",
    // Jetpack Compose
    "Composable" to "androidx.compose.runtime.Composable",
    "remember" to "androidx.compose.runtime.remember",
    "mutableStateOf" to "androidx.compose.runtime.mutableStateOf",
    "Text" to "androidx.compose.material3.Text",
    "Button" to "androidx.compose.material3.Button",
    "LazyColumn" to "androidx.compose.foundation.lazy.LazyColumn"
)

// AUTO-APPLICATION RULE:
// IF detected class in androidImportMap AND confidence >= 95%
// THEN auto-add import statement
```

### Type Safety Auto-Fixes

```kotlin
// TEMPLATE: Null Safety Fix
// PATTERN: variable.property (where variable is nullable)
// FIX: variable?.property

// TEMPLATE: Type Conversion Fix
// PATTERN: val x: Int = "123"
// FIX: val x: Int = "123".toIntOrNull() ?: 0

// TEMPLATE: Safe Casting Fix
// PATTERN: view as TextView
// FIX: view as? TextView ?: return

// AUTO-APPLICATION RULE:
// IF type safety issue AND confidence >= 90%
// THEN apply appropriate template
```

### Syntax Auto-Fixes

```kotlin
// TEMPLATE: Missing Bracket Fix
// PATTERN: if (condition) { ... [missing close bracket]
// FIX: Add missing } at appropriate location

// TEMPLATE: Incomplete Statement Fix
// PATTERN: fun methodName( [incomplete]
// FIX: fun methodName() { /* TODO: Implement */ }

// AUTO-APPLICATION RULE:
// IF syntax error AND confidence >= 98%
// THEN apply syntax fix template
```

## âš¡ Performance-Optimized Review

### Quick Scan (< 10 seconds)

```markdown
**RAPID DETECTION:**
â˜ Import section validation (top 20 lines)
â˜ Class declaration check
â˜ Method signature verification
â˜ Basic syntax error scan
â˜ Common pattern recognition
```

### Deep Analysis (< 60 seconds total)

```markdown
**COMPREHENSIVE REVIEW:**
â˜ Type relationship analysis
â˜ null safety comprehensive check
â˜ Performance pattern analysis
â˜ Security vulnerability scan  
â˜ Code style consistency review
â˜ Error handling completeness
```

### Incremental Review (Real-time)

```markdown
**AS CODE IS WRITTEN:**
â˜ Import validation on class usage
â˜ Type checking on variable assignment
â˜ Null safety on nullable operations
â˜ Syntax validation on statement completion
â˜ Style checking on formatting
```

## ðŸ“Š Quality Gates & Metrics

### Pass Criteria (Required for Approval)

```markdown
âœ… CRITICAL: Zero import errors
âœ… CRITICAL: Zero syntax errors
âœ… CRITICAL: Zero type safety violations
âœ… CRITICAL: All references resolved
âœ… HIGH: Consistent naming conventions
âœ… HIGH: Basic error handling present
âœ… MEDIUM: Code style compliance > 90%
```

### Performance Benchmarks

```markdown
ðŸ“ˆ Import accuracy: > 95%
ðŸ“ˆ Type safety coverage: > 98%
ðŸ“ˆ Syntax error detection: > 99%
ðŸ“ˆ Auto-fix success rate: > 90%
ðŸ“ˆ False positive rate: < 5%
ðŸ“ˆ Review completion time: < 2 minutes
```

### AI Assistant Effectiveness Tracking

```markdown
ðŸ¤– TRAE AI: Android-specific issue detection rate
ðŸ¤– KIRO: Configuration validation accuracy
ðŸ¤– Claude: API integration review quality
ðŸ¤– Gemini: ML code review effectiveness
```

## ðŸ”„ Continuous Improvement Loop

### Daily Optimization

```markdown
- Track auto-fix application success rates
- Monitor false positive occurrences
- Update confidence thresholds based on results
- Refine pattern recognition algorithms
```

### Weekly Enhancement

```markdown
- Analyze missed issues and update detection rules
- Review manual override patterns
- Update fix templates based on new patterns
- Optimize performance benchmarks
```

### Monthly Major Updates

```markdown
- Comprehensive rule effectiveness review
- Technology stack updates (new Android APIs, etc.)
- Integration with new development patterns
- Major template and workflow refinements
```

## ðŸŽ¯ Success Validation

### Immediate Validation (After Each Review)

```markdown
â˜ All detected issues addressed or flagged
â˜ No new issues introduced by fixes
â˜ Code compiles without errors
â˜ All imports resolve correctly
â˜ Type safety maintained throughout
â˜ Performance not degraded
```

### Session Validation (End of Coding Session)

```markdown
â˜ Consistent code quality maintained
â˜ All critical issues resolved
â˜ Documentation updated as needed
â˜ Review effectiveness metrics recorded
â˜ Lessons learned documented
â˜ Next session preparation completed
```

---

**Cursor Integration Note**: This review process is optimized for Cursor's 250-line indexing chunks and designed to work efficiently without relying on IDE auto-tools. Each AI assistant should execute this process consistently to maintain high code quality across all development environments.
